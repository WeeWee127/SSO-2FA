# Single Sign-On (SSO) система з двофакторною аутентифікацією (2FA)

Цей проект є веб-додатком, який демонструє реалізацію системи Single Sign-On (SSO) з двофакторною аутентифікацією (2FA) за допомогою Time-based One-Time Password (TOTP). Бекенд розроблений на Node.js з використанням фреймворку Express.js, а фронтенд - на React.js. Система надає централізовану аутентифікацію для кількох додатків та високий рівень безпеки за рахунок 2FA.

## Функціональність

-   **Єдина система входу (SSO):** Централізована аутентифікація для всіх підключених додатків.
-   **Двофакторна аутентифікація (2FA):** Підтримка TOTP (Time-based One-Time Password), сумісність з Google Authenticator та іншими аналогічними додатками.
-   **Безпека:**
    -   QR-код для легкого налаштування 2FA.
    -   Надійне хешування паролів (bcryptjs).
    -   Обмеження частоти запитів (Rate Limiting) для запобігання атак.
    -   JWT-токени для безпечної авторизації.
-   **Управління користувачами:**
    -   Реєстрація та вхід користувачів.
    -   Керування профілем користувача.
    -   Зміна пароля.
    -   Можливість увімкнення/вимкнення 2FA.
-   **Ролі користувачів:** Підтримка ролей `user` та `admin` для диференційованого доступу.
-   **Адмін-панель:** Окрема панель для адміністраторів з можливістю перегляду всіх зареєстрованих користувачів.
-   **Сучасний інтерфейс:** Інтуїтивно зрозумілий та адаптивний дизайн, реалізований за допомогою Material-UI, включаючи світлу та темну тему.

## Технології

Цей проект використовує наступні ключові технології:

-   **Backend (API):**
    -   `Node.js`: Середовище виконання JavaScript на стороні сервера.
    -   `Express.js`: Гнучкий фреймворк для побудови веб-додатків та API.
    -   `MongoDB`: Документо-орієнтована база даних для зберігання даних користувачів.
    -   `Mongoose`: ODM-бібліотека для MongoDB, що спрощує взаємодію з базою даних.
    -   `bcryptjs`: Бібліотека для хешування паролів.
    -   `jsonwebtoken` (JWT): Для створення та верифікації токенів доступу.
    -   `speakeasy`: Для генерації та верифікації TOTP.
-   **Frontend (UI):**
    -   `React.js`: Бібліотека JavaScript для побудови користувацьких інтерфейсів.
    -   `Material-UI`: Популярна бібліотека React-компонентів, що відповідають рекомендаціям Material Design.
    -   `Axios`: Клієнт HTTP для взаємодії з API бекенду.
-   **Інструменти розробки:**
    -   `npm`: Менеджер пакетів для JavaScript.
    -   `Git`: Система контролю версій.

## Вимоги

-   Node.js (рекомендована версія 14 або новіша)
-   npm
-   MongoDB (локально або через MongoDB Atlas)
-   Git

## Встановлення та Запуск

Виконайте наступні кроки для встановлення та запуску проекту:

1.  **Клонуйте репозиторій:**

    ```bash
    git clone https://github.com/<ваш-логін>/SSO-2FA.git # Замініть на URL вашого репозиторію
    cd SSO-2FA
    ```

2.  **Налаштування бекенду (server):**

    -   Перейдіть у кореневу директорію проекту та встановіть залежності:
        ```bash
        npm install
        ```
    -   Створіть файл `.env` у кореневій директорії проекту (де знаходиться `package.json` та `server.js`) та додайте наступні змінні:
        ```env
        MONGODB_URI=ваша_mongodb_рядок_підключення
        JWT_SECRET=ваш_секретний_ключ_для_jwt
        ```
        *Замініть `ваша_mongodb_рядок_підключення` на фактичний рядок підключення до вашої бази даних MongoDB (наприклад, з MongoDB Atlas).*
        *Замініть `ваш_секретний_ключ_для_jwt` на довгий, випадковий рядок для безпеки JWT токенів.*

3.  **Налаштування фронтенду (client):**

    -   Перейдіть у директорію `client`:
        ```bash
        cd client
        ```
    -   Встановіть залежності:
        ```bash
        npm install
        ```
    -   Поверніться у кореневу директорію проекту:
        ```bash
        cd ..
        ```

4.  **Запуск програми:**

    -   У першому терміналі запустіть сервер:
        ```bash
        npm start
        ```
    -   У новому терміналі перейдіть у директорію `client` та запустіть React-додаток:
        ```bash
        cd client
        npm start
        ```
    -   Додаток має відкритися у вашому браузері за адресою `http://localhost:3000`.

## Структура проекту

```
├── client/                 # React frontend (src/, public/, build/)
│   ├── public/             # Статичні файли фронтенду
│   └── src/                # Вихідний код React-додатку
│       ├── assets/         # Зображення, іконки
│       ├── components/     # Перевикористовувані компоненти (Dashboard.js, Login.js, Register.js, etc.)
│       ├── context/        # Контексти React (наприклад, AuthContext)
│       ├── hooks/          # Користувацькі хуки React
│       ├── pages/          # Сторінки додатку
│       ├── styles/         # Глобальні стилі, теми Material-UI
│       └── App.js          # Основний компонент додатку
├── server/                 # Node.js Express.js backend
│   ├── config/             # Конфігураційні файли (наприклад, підключення до БД)
│   ├── controllers/        # Логіка обробки запитів (authController.js)
│   ├── middleware/         # Функції-посередники (наприклад, auth.js для перевірки токенів, isAdmin.js)
│   ├── models/             # Mongoose схеми та моделі даних (User.js)
│   ├── routes/             # API маршрути (auth.js)
│   └── utils/              # Допоміжні утиліти (наприклад, для TOTP)
├── .env                    # Змінні середовища (не завантажується в Git)
├── package.json            # Залежності та скрипти для бекенду
├── package-lock.json       # Фіксовані версії залежностей
└── README.md               # Цей файл
```

## Додаткові примітки

-   Переконайтеся, що ваш екземпляр MongoDB запущено та доступний перед запуском сервера.
-   **Для створення першого адміністратора:** Після реєстрації користувача ви можете вручну змінити поле `role` цього користувача на `admin` у колекції `users` вашої бази даних MongoDB (наприклад, за допомогою MongoDB Compass або іншого інструменту).
-   **Для 2FA:** Використовуйте мобільний додаток, такий як Google Authenticator, Authy або Microsoft Authenticator, для сканування QR-коду та генерації TOTP-кодів.

## Внесок

Ми вітаємо внески в цей проект! Якщо у вас є ідеї щодо покращення, повідомлення про помилки або ви хочете додати нові функції, будь ласка, створіть `issue` або `pull request`.

## Ліцензія

Цей проект ліцензовано за ліцензією MIT. Дивіться файл `LICENSE` для отримання додаткової інформації.

## Контакти

Якщо у вас виникли запитання або пропозиції, будь ласка, зв'яжіться з нами.

---
**Happy coding!** 